<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö–æ–Ω—Ç—Ä–æ–ª–ö–æ! –ö–∞–ª–∫—É–ª–∞—Ç–æ—Ä</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.21.2/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            width: 100%;
            overflow-x: hidden;
            background-color: transparent;
        }
        .app-container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
        }
        .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .border {
            border: 1px solid #e5e7eb;
        }
        .rounded-lg {
            border-radius: 0.5rem;
        }
        .p-4 {
            padding: 1rem;
        }
        .text-center {
            text-align: center;
        }
        .font-bold {
            font-weight: 700;
        }
        .bg-white {
            background-color: white;
        }
        @media (min-width: 640px) {
            .p-4 {
                padding: 1.5rem;
            }
            .max-w-full {
                max-width: 42rem;
            }
        }
    </style>
</head>
<body>
    <div id="kontrolko-app" class="app-container"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Coffee, Wine, Beer, Clock, Activity } = lucide;

        const WidmarkCalculator = () => {
          // –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –¥–∞–Ω–Ω–∏
          const [gender, setGender] = useState('male');
          const [weight, setWeight] = useState(70);
          const [drinks, setDrinks] = useState({
            beer: 0,
            wine: 0,
            spirits: 0,
            custom: 0
          });
          const [customDrink, setCustomDrink] = useState({
            alcoholContent: '',
            volume: ''
          });
          const [activeTab, setActiveTab] = useState('calculator');
          
          // –†–µ–∑—É–ª—Ç–∞—Ç–∏
          const [bac, setBac] = useState(0);
          const [soberTime, setSoberTime] = useState(0);
          const [effectLevel, setEffectLevel] = useState('');
          
          // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∑–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark
          const r = gender === 'male' ? 0.68 : 0.55; // –§–∞–∫—Ç–æ—Ä –∑–∞ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–º—ä–∂–µ: 0.68, –∂–µ–Ω–∏: 0.55)
          const metabolismRate = 0.015; // –°–∫–æ—Ä–æ—Å—Ç –Ω–∞ –µ–ª–∏–º–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –∞–ª–∫–æ—Ö–æ–ª (% –Ω–∞ —á–∞—Å)
          
          // –ê–ª–∫–æ—Ö–æ–ª–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –∏ –æ–±–µ–º –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ –Ω–∞–ø–∏—Ç–∫–∏
          const drinkDefinitions = {
            beer: { alcoholContent: 0.05, volume: 500 }, // 5% –±–∏—Ä–∞, 500–º–ª
            wine: { alcoholContent: 0.12, volume: 150 }, // 12% –≤–∏–Ω–æ, 150–º–ª
            spirits: { alcoholContent: 0.40, volume: 50 } // 40% —Å–ø–∏—Ä—Ç–Ω–∏ –Ω–∞–ø–∏—Ç–∫–∏, 50–º–ª
          };
          
          // –ò–∑—á–∏—Å–ª–µ–Ω–∏—è –±–∞–∑–∏—Ä–∞–Ω–∏ –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark
          const calculateBAC = () => {
            // –í–∞–ª–∏–¥–∏—Ä–∞–º–µ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ –º–æ—è—Ç–∞ –Ω–∞–ø–∏—Ç–∫–∞ –∑–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ—Ç–æ
            const validCustomDrink = {
              alcoholContent: customDrink.alcoholContent === '' ? 0 : parseFloat(customDrink.alcoholContent),
              volume: customDrink.volume === '' ? 0 : parseFloat(customDrink.volume)
            };
            
            // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –æ–±—â–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å—Ç –∞–ª–∫–æ—Ö–æ–ª –≤ –≥—Ä–∞–º–æ–≤–µ
            const totalAlcohol = 
              (drinks.beer * drinkDefinitions.beer.alcoholContent * drinkDefinitions.beer.volume) +
              (drinks.wine * drinkDefinitions.wine.alcoholContent * drinkDefinitions.wine.volume) +
              (drinks.spirits * drinkDefinitions.spirits.alcoholContent * drinkDefinitions.spirits.volume) +
              (drinks.custom * validCustomDrink.volume * validCustomDrink.alcoholContent);
            
            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –º–ª –≤ –≥—Ä–∞–º–æ–≤–µ (0.789 –µ –ø–ª—ä—Ç–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –µ—Ç–∞–Ω–æ–ª–∞)
            const alcoholGrams = totalAlcohol * 0.789;
            
            // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º—É–ª–∞—Ç–∞ –Ω–∞ Widmark –±–µ–∑ –≤—Ä–µ–º–µ–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: BAC = A / (r * W)
            // A = –∞–ª–∫–æ—Ö–æ–ª –≤ –≥—Ä–∞–º–æ–≤–µ
            // r = –∫–æ–µ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
            // W = —Ç–µ–≥–ª–æ –≤ –∫–≥
            
            const calculatedBAC = (alcoholGrams / (r * weight * 1000)) * 100;
            return calculatedBAC > 0 ? calculatedBAC : 0;
          };
          
          // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –µ—Ñ–µ–∫—Ç–∏ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –Ω–∏–≤–∞
          const getEffectLevel = (bacLevel) => {
            if (bacLevel < 0.01) return "–ù–æ—Ä–º–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –±–µ–∑ –≤–∏–¥–∏–º–∏ –µ—Ñ–µ–∫—Ç–∏.";
            if (bacLevel < 0.05) return "–£—Å–µ—â–∞–Ω–µ –∑–∞ —Ç–æ–ø–ª–∏–Ω–∞, –ø—Ä–∏–∫–∞–∑–ª–∏–≤–æ—Å—Ç, –ø–æ–≤–∏—à–µ–Ω–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ.";
            if (bacLevel < 0.08) return "–ü–∞–¥–∞–Ω–µ –Ω–∞ –∑–∞–¥—Ä—ä–∂–∫–∏, —Å–∞–º–æ–Ω–∞–¥–µ—è–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤–ª–æ—à–∞–≤–∞–Ω–µ –Ω–∞ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ.";
            if (bacLevel < 0.15) return "–ù–µ—è—Å–Ω–∞ —Ä–µ—á, –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏—è—Ç–∞, –∑–∞–≥—É–±–∞ –Ω–∞ –ø—Ä–µ—Ü–µ–Ω–∫–∞.";
            if (bacLevel < 0.30) return "–ù–∞–º–∞–ª–µ–Ω –∑—Ä–∏—Ç–µ–ª–µ–Ω —Ñ–æ–∫—É—Å, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç –æ—Ç –ø–æ–≤—Ä—ä—â–∞–Ω–µ, –∑–∞–≥—É–±–∞ –Ω–∞ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ –∏ —É—á–∞—Å—Ç–∏–µ –≤ —Å—ä–±–∏—Ç–∏—è, –∫–æ–∏—Ç–æ –Ω—è–º–∞ –¥–∞ –ø–æ–º–Ω–∏—Ç–µ.";
            return "–û–ø–∞—Å–Ω–æ—Å—Ç –æ—Ç –∞–ª–∫–æ—Ö–æ–ª–Ω–æ –Ω–∞—Ç—Ä–∞–≤—è–Ω–µ –∏ –∂–∏–≤–æ—Ç–æ–∑–∞—Å—Ç—Ä–∞—à–∞–≤–∞—â–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ.";
          };
          
          // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω —Å—ä–≤–µ—Ç –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ BAC
          const getAdvice = (bacLevel) => {
            if (bacLevel < 0.01) return "–ê–∫–æ —Ä–µ—à–∏—à –¥–∞ –ø–∏–µ—à, –ø–ª–∞–Ω–∏—Ä–∞–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∫–∞–∫ —â–µ —Å–µ –ø—Ä–∏–±–µ—Ä–µ—à –≤–∫—ä—â–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ.";
            if (bacLevel < 0.05) return "–û–ø–∏—Ç–∞–π —Å–µ –¥–∞ –ø–∏–µ—à –ø–æ –µ–¥–Ω–∞ –Ω–∞–ø–∏—Ç–∫–∞ –Ω–∞ —á–∞—Å –∏ –¥–∞ —è —Ä–µ–¥—É–≤–∞—à —Å –≤–æ–¥–∞ –∏–ª–∏ –±–µ–∑–∞–ª–∫–æ—Ö–æ–ª–Ω–∏ –Ω–∞–ø–∏—Ç–∫–∏.";
            if (bacLevel < 0.08) return "–ó–∞–±–∞–≤–∏ —Ç–µ–º–ø–æ—Ç–æ - –Ω–µ –µ –∑–ª–µ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à –ø–∞—É–∑–∞ –∏ –¥–∞ —Ö–∞–ø–Ω–µ—à –Ω–µ—â–æ.";
            if (bacLevel < 0.15) return "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è—Ç–∞ —Ç–∏ –µ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–æ –Ω–∞–º–∞–ª–µ–Ω–∞. –°–ø—Ä–∏ —Å –∞–ª–∫–æ—Ö–æ–ª–∞ –∏ –∏–∑–ø–æ–ª–∑–≤–∞–π —Ç–∞–∫—Å–∏, –≥—Ä–∞–¥—Å–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–ª–∏ –ø–æ–º–æ—â –æ—Ç —Ç—Ä–µ–∑–≤–µ–Ω –ø—Ä–∏—è—Ç–µ–ª, –∑–∞ –¥–∞ —Å–µ –ø—Ä–∏–±–µ—Ä–µ—à.";
            if (bacLevel < 0.30) return "–ù–µ –æ—Å—Ç–∞–≤–∞–π —Å–∞–º –∏ –Ω–µ –≤–∑–∏–º–∞–π —Ä–µ—à–µ–Ω–∏—è. –ü–∏–π –≤–æ–¥–∞ –∏ –ø–æ—Ç—ä—Ä—Å–∏ –ø–æ–º–æ—â –∑–∞ –ø—Ä–∏–±–∏—Ä–∞–Ω–µ.";
            return "–ü–æ—Ç—ä—Ä—Å–∏ –ø–æ–º–æ—â, –Ω–µ –ø—Ä–µ–¥–ø—Ä–∏–µ–º–∞–π –Ω–∏—â–æ —Å–∞–º.";
          };
          
          // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ –¥–æ –∏–∑—Ç—Ä–µ–∑–Ω—è–≤–∞–Ω–µ
          const calculateSoberTime = (bacLevel) => {
            return bacLevel / metabolismRate;
          };
          
          // –ü—Ä–µ–∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –≤—Ö–æ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏
          useEffect(() => {
            const calculatedBAC = calculateBAC();
            setBac(calculatedBAC);
            setSoberTime(calculateSoberTime(calculatedBAC));
            setEffectLevel(getEffectLevel(calculatedBAC));
          }, [gender, weight, drinks, customDrink]);

          const getBackgroundColor = () => {
            if (bac < 0.01) return "bg-green-50";
            if (bac < 0.05) return "bg-green-100";
            if (bac < 0.08) return "bg-yellow-100";
            if (bac < 0.15) return "bg-yellow-200";
            if (bac < 0.30) return "bg-orange-200";
            return "bg-red-300";
          };
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ –æ–±–µ–º–∞
          const handleVolumeChange = (e) => {
            const value = e.target.value;
            if (value === '') {
              setCustomDrink({...customDrink, volume: ''});
            } else {
              const numValue = parseInt(value);
              if (!isNaN(numValue)) {
                setCustomDrink({...customDrink, volume: numValue});
              }
            }
          };
          
          // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∞–ª–∫–æ—Ö–æ–ª
          const handleAlcoholChange = (e) => {
            const value = e.target.value;
            if (value === '') {
              setCustomDrink({...customDrink, alcoholContent: ''});
            } else {
              const numValue = parseFloat(value);
              if (!isNaN(numValue)) {
                setCustomDrink({...customDrink, alcoholContent: numValue / 100});
              }
            }
          };

          // –°—Ç–∏–ª–æ–≤–µ
          const styles = {
            container: {
              width: '100%',
              maxWidth: '100%',
              margin: '0 auto',
              boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
              border: '1px solid #e5e7eb',
              borderRadius: '0.5rem',
              backgroundColor: '#ffffff'
            },
            innerContainer: {
              padding: '1rem',
            },
            header: {
              textAlign: 'center',
              marginBottom: '1.5rem'
            },
            title: {
              fontSize: '1.5rem',
              fontWeight: 'bold',
              marginBottom: '0.5rem'
            },
            subtitle: {
              color: '#6b7280'
            },
            tabs: {
              display: 'grid',
              gridTemplateColumns: '1fr 1fr',
              marginBottom: '1.5rem',
              backgroundColor: '#f3f4f6',
              borderRadius: '0.5rem',
              overflow: 'hidden'
            },
            tabButton: {
              padding: '0.5rem',
              textAlign: 'center',
              fontWeight: '500',
              cursor: 'pointer',
              border: 'none',
              background: 'none'
            },
            activeTab: {
              backgroundColor: '#3b82f6',
              color: 'white'
            },
            section: {
              marginBottom: '1.5rem'
            },
            label: {
              fontWeight: '500',
              marginBottom: '0.5rem',
              display: 'block'
            },
            genderButtons: {
              display: 'grid',
              gridTemplateColumns: '1fr 1fr',
              gap: '0.5rem'
            },
            genderButton: {
              padding: '0.5rem 1rem',
              borderRadius: '0.375rem',
              backgroundColor: '#f3f4f6',
              border: 'none',
              cursor: 'pointer'
            },
            activeMale: {
              backgroundColor: '#dbeafe',
              border: '1px solid #3b82f6'
            },
            activeFemale: {
              backgroundColor: '#fce7f3',
              border: '1px solid #db2777'
            },
            weightContainer: {
              marginBottom: '0.5rem'
            },
            weightLabel: {
              display: 'flex',
              justifyContent: 'space-between',
              marginBottom: '0.5rem'
            },
            slider: {
              width: '100%'
            },
            drinkItem: {
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center',
              padding: '0.75rem',
              backgroundColor: '#f9fafb',
              borderRadius: '0.375rem',
              marginBottom: '1rem'
            },
            drinkLabel: {
              display: 'flex',
              alignItems: 'center'
            },
            iconSpirit: {
              marginRight: '0.5rem',
              color: '#8b5cf6'
            },
            iconBeer: {
              marginRight: '0.5rem',
              color: '#d97706'
            },
            iconWine: {
              marginRight: '0.5rem',
              color: '#ef4444'
            },
            counter: {
              display: 'flex',
              alignItems: 'center',
              gap: '0.5rem'
            },
            counterButton: {
              width: '2rem',
              height: '2rem',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              backgroundColor: '#e5e7eb',
              borderRadius: '9999px',
              border: 'none',
              cursor: 'pointer'
            },
            counterDisplay: {
              width: '2rem',
              textAlign: 'center'
            },
            customDrink: {
              padding: '0.75rem',
              backgroundColor: '#f9fafb',
              borderRadius: '0.375rem'
            },
            customDrinkContainer: {
              display: 'flex',
              flexDirection: 'column',
              gap: '0.5rem'
            },
            customDrinkTop: {
              display: 'flex',
              flexWrap: 'wrap',
              alignItems: 'center',
              gap: '0.5rem',
              marginBottom: '0.5rem'
            },
            inputSm: {
              width: '4rem',
              padding: '0.25rem',
              borderRadius: '0.375rem',
              border: '1px solid #d1d5db',
              fontSize: '0.875rem'
            },
            calculateButton: {
              width: '100%',
              padding: '0.75rem',
              backgroundColor: '#3b82f6',
              color: 'white',
              fontWeight: 'bold',
              borderRadius: '0.375rem',
              border: 'none',
              cursor: 'pointer',
              marginTop: '1.5rem'
            },
            results: {
              padding: '1rem',
              borderRadius: '0.5rem'
            },
            resultHeader: {
              textAlign: 'center',
              marginBottom: '1rem'
            },
            resultTitle: {
              fontSize: '1.25rem',
              fontWeight: 'bold',
              marginBottom: '0.25rem'
            },
            resultSubtitle: {
              fontSize: '0.875rem',
              color: '#4b5563'
            },
            resultItem: {
              backgroundColor: 'rgba(255, 255, 255, 0.7)',
              padding: '0.75rem',
              borderRadius: '0.375rem',
              marginBottom: '1rem'
            },
            resultRow: {
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center'
            },
            resultLabel: {
              display: 'flex',
              alignItems: 'center'
            },
            resultIcon: {
              marginRight: '0.5rem'
            },
            resultText: {
              fontWeight: '500'
            },
            resultValue: {
              fontWeight: 'bold'
            },
            resultEffect: {
              marginBottom: '0.25rem',
              fontWeight: '500'
            },
            resultEffectText: {
              fontSize: '0.875rem'
            },
            advice: {
              padding: '0.75rem',
              backgroundColor: '#eff6ff',
              borderRadius: '0.375rem'
            },
            adviceTitle: {
              marginBottom: '0.25rem',
              fontWeight: '500'
            },
            adviceText: {
              fontSize: '0.875rem'
            },
            backButton: {
              width: '100%',
              padding: '0.5rem',
              backgroundColor: '#3b82f6',
              color: 'white',
              fontWeight: '500',
              borderRadius: '0.375rem',
              border: 'none',
              cursor: 'pointer',
              marginTop: '1rem'
            },
            disclaimer: {
              marginTop: '1.5rem',
              fontSize: '0.75rem',
              color: '#6b7280',
              textAlign: 'center'
            },
            // Responsive adjustments
            '@media (min-width: 640px)': {
              innerContainer: {
                padding: '1.5rem'
              },
              customDrinkContainer: {
                flexDirection: 'row',
                alignItems: 'center',
                justifyContent: 'space-between'
              }
            }
          };

          // –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –º–µ–¥–∏–∞ –∑–∞—è–≤–∫–∏ –∑–∞ —Ä–µ—Å–ø–æ–Ω—Å–∏–≤–Ω–æ—Å—Ç
          const mediaStyles = window.matchMedia('(min-width: 640px)').matches ? 
            styles['@media (min-width: 640px)'] : {};
          
          const mergedStyles = {...styles, innerContainer: {...styles.innerContainer, ...mediaStyles.innerContainer}};
          
          return (
            <div style={mergedStyles.container}>
              <div style={mergedStyles.innerContainer}>
                <div style={mergedStyles.header}>
                  <h2 style={mergedStyles.title}>–ö–æ–Ω—Ç—Ä–æ–ª–ö–æ!</h2>
                  <p style={mergedStyles.subtitle}>–ó–Ω–∞–π –∫–æ–≥–∞ –µ —Å—Ç–æ–ø - –æ—Å—Ç–∞–Ω–∏ —Ç–æ–ø!</p>
                </div>
                
                <div style={{width: '100%'}}>
                  <div style={mergedStyles.tabs}>
                    <button 
                      style={{...mergedStyles.tabButton, ...(activeTab === 'calculator' ? mergedStyles.activeTab : {})}}
                      onClick={() => setActiveTab('calculator')}
                    >
                      –ö–æ–Ω—Ç—Ä–æ–ª–ö–æ!
                    </button>
                    <button 
                      style={{...mergedStyles.tabButton, ...(activeTab === 'results' ? mergedStyles.activeTab : {})}}
                      onClick={() => setActiveTab('results')}
                    >
                      –†–µ–∑—É–ª—Ç–∞—Ç–∏
                    </button>
                  </div>
                  
                  {activeTab === 'calculator' && (
                    <div>
                      {/* –ü–æ–ª */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <label style={mergedStyles.label}>–ü–æ–ª</label>
                        <div style={mergedStyles.genderButtons}>
                          <button 
                            style={{
                              ...mergedStyles.genderButton, 
                              ...(gender === 'male' ? mergedStyles.activeMale : {})
                            }}
                            onClick={() => setGender('male')}
                          >
                            –ú—ä–∂
                          </button>
                          <button 
                            style={{
                              ...mergedStyles.genderButton, 
                              ...(gender === 'female' ? mergedStyles.activeFemale : {})
                            }}
                            onClick={() => setGender('female')}
                          >
                            –ñ–µ–Ω–∞
                          </button>
                        </div>
                      </div>
                      
                      {/* –¢–µ–≥–ª–æ */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <div style={mergedStyles.weightLabel}>
                          <label style={{fontWeight: '500'}}>–¢–µ–≥–ª–æ</label>
                          <span>{weight} –∫–≥</span>
                        </div>
                        <input 
                          type="range" 
                          min="40" 
                          max="120" 
                          value={weight}
                          style={mergedStyles.slider}
                          onChange={(e) => setWeight(parseInt(e.target.value))}
                        />
                      </div>
                      
                      {/* –ù–∞–ø–∏—Ç–∫–∏ */}
                      <div style={{marginBottom: '1.5rem'}}>
                        <label style={mergedStyles.label}>–ù–∞–ø–∏—Ç–∫–∏</label>
                        
                        <div style={mergedStyles.drinkItem}>
                          <div style={mergedStyles.drinkLabel}>
                            <span style={{marginRight: '0.5rem'}}>üç∑ </span>
                            <span style={{fontSize: window.innerWidth < 640 ? '0.875rem' : '1rem'}}>–í–∏–Ω–æ (150–º–ª, 12%)</span>
                          </div>
                          <div style={mergedStyles.counter}>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, wine: Math.max(0, drinks.wine - 1)})}
                            >
                              -
                            </button>
                            <span style={mergedStyles.counterDisplay}>{drinks.wine}</span>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, wine: drinks.wine + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={mergedStyles.customDrink}>
                          <div style={mergedStyles.customDrinkContainer}>
                            <div style={mergedStyles.customDrinkTop}>
                              <span style={{fontSize: window.innerWidth < 640 ? '0.875rem' : '1rem', marginRight: '0.5rem'}}>–ú–æ—è –Ω–∞–ø–∏—Ç–∫–∞</span>
                              <input 
                                type="text" 
                                style={mergedStyles.inputSm}
                                value={customDrink.volume === '' ? '' : customDrink.volume}
                                onChange={handleVolumeChange}
                                placeholder="–º–ª"
                              />
                              <input 
                                type="text" 
                                style={{...mergedStyles.inputSm, width: '3rem'}}
                                value={customDrink.alcoholContent === '' ? '' : (customDrink.alcoholContent * 100)}
                                onChange={handleAlcoholChange}
                                placeholder="%"
                              />
                            </div>
                            <div style={mergedStyles.counter}>
                              <button 
                                style={mergedStyles.counterButton}
                                onClick={() => setDrinks({...drinks, custom: Math.max(0, drinks.custom - 1)})}
                              >
                                -
                              </button>
                              <span style={mergedStyles.counterDisplay}>{drinks.custom}</span>
                              <button 
                                style={mergedStyles.counterButton}
                                onClick={() => setDrinks({...drinks, custom: drinks.custom + 1})}
                              >
                                +
                              </button>
                            </div>
                          </div>
                            <span style={{marginRight: '0.5rem'}}>ü•É </span>
                            <span style={{fontSize: window.innerWidth < 640 ? '0.875rem' : '1rem'}}>–°–ø–∏—Ä—Ç–Ω–∞ –Ω–∞–ø–∏—Ç–∫–∞ (50–º–ª, 40%)</span>
                          </div>
                          <div style={mergedStyles.counter}>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, spirits: Math.max(0, drinks.spirits - 1)})}
                            >
                              -
                            </button>
                            <span style={mergedStyles.counterDisplay}>{drinks.spirits}</span>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, spirits: drinks.spirits + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={mergedStyles.drinkItem}>
                          <div style={mergedStyles.drinkLabel}>
                            <span style={{marginRight: '0.5rem'}}>üç∫ </span>
                            <span style={{fontSize: window.innerWidth < 640 ? '0.875rem' : '1rem'}}>–ë–∏—Ä–∞ (500–º–ª, 5%)</span>
                          </div>
                          <div style={mergedStyles.counter}>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, beer: Math.max(0, drinks.beer - 1)})}
                            >
                              -
                            </button>
                            <span style={mergedStyles.counterDisplay}>{drinks.beer}</span>
                            <button 
                              style={mergedStyles.counterButton}
                              onClick={() => setDrinks({...drinks, beer: drinks.beer + 1})}
                            >
                              +
                            </button>
                          </div>
                        </div>
                        
                        <div style={mergedStyles.drinkItem}>
                          <div style={mergedStyles.drinkLabel}>